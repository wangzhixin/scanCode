(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d229602"],{dcd1:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"app-container"},[i("el-row",{attrs:{type:"flex",justify:"end"}},[i("el-button",{attrs:{type:"primary",icon:"el-icon-plus"},on:{click:t.addProblem}},[t._v("添加管理员")])],1),i("el-row",[i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.checkLoading,expression:"checkLoading"}],staticStyle:{width:"100%"},attrs:{data:t.list,stripe:"","empty-text":t.emptyText}},[i("el-table-column",{attrs:{prop:"admin_id",label:"序号"}}),i("el-table-column",{attrs:{prop:"admin_name","show-overflow-tooltip":"",label:"账户"}}),i("el-table-column",{attrs:{prop:"address",label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-button",{attrs:{type:"text"},on:{click:function(i){return t.editProblem(e.row)}}},[t._v("编辑")]),2===e.row.admin_type?i("el-popconfirm",{staticStyle:{"margin-left":"10px"},attrs:{title:"确定提交删除吗？"},on:{onConfirm:function(i){return t.deleteHospital(e.row.admin_id)}}},[i("el-button",{attrs:{slot:"reference",type:"text"},slot:"reference"},[t._v("删除")])],1):t._e()]}}])})],1)],1),i("el-row",{staticStyle:{"margin-top":"20px"},attrs:{type:"flex",justify:"end"}},[i("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:t.total,"page-size":t.pageSize,"hide-on-single-page":""},on:{"current-change":t.page}})],1),i("el-dialog",{attrs:{title:"帐号管理",visible:t.showProblem,width:"600px","before-close":t.cancelForm},on:{"update:visible":function(e){t.showProblem=e}}},[i("el-form",{ref:"form",attrs:{"status-icon":"",model:t.form,rules:t.rules}},[i("el-form-item",{attrs:{label:"账户：","label-width":"120px",prop:"admin_name"}},[i("el-input",{model:{value:t.form.admin_name,callback:function(e){t.$set(t.form,"admin_name",e)},expression:"form.admin_name"}})],1),i("el-form-item",{attrs:{label:"密码：","label-width":"120px",prop:"admin_password"}},[i("el-input",{attrs:{"show-password":""},model:{value:t.form.admin_password,callback:function(e){t.$set(t.form,"admin_password",e)},expression:"form.admin_password"}})],1)],1),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:t.cancelForm}},[t._v("取 消")]),i("el-button",{attrs:{type:"primary"},on:{click:t.submit}},[t._v("确 定")])],1)],1)],1)},n=[],o=i("b775");function r(t){var e={page:t};return Object(o["a"])({url:"/getAdminUserList",method:"post",data:e})}function l(t){var e={admin_id:t};return Object(o["a"])({url:"/deleteAdminUser",method:"post",data:e})}function s(t){return Object(o["a"])({url:"/submitAdminUser",method:"post",data:t})}var d={data:function(){return{showProblem:!1,emptyText:"",clickTab:!1,checkLoading:!1,list:[],total:0,pageSize:0,toPage:1,form:{admin_id:"",admin_name:"",admin_password:""},rules:{admin_name:[{required:!0,message:"请输入账户",trigger:"blur"}],admin_password:[{required:!0,message:"请输入密码",trigger:"blur"}]}}},created:function(){this.init()},methods:{init:function(){var t=this;this.list=[],this.emptyText="数据加载中……",r(this.toPage).then((function(e){0===e.data.list.length?t.emptyText="暂无数据":(t.list=e.data.list,t.total=e.data.total,t.pageSize=e.data.pageSize),t.clickTab=!0}),(function(e){t.clickTab=!0}))},addProblem:function(){this.showProblem=!0},initForm:function(){this.form={admin_id:"",admin_name:"",admin_password:""}},cancelForm:function(){this.initForm(),this.showProblem=!1},submit:function(){var t=this;this.$refs.form.validate((function(e){if(!e)return!1;var i=t.$loading({lock:!0,text:"Loading",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"});s(t.form).then((function(e){e&&(t.cancelForm(),t.init()),i.close()})).catch((function(t){i.close()}))}))},editProblem:function(t){this.showProblem=!0,this.form={admin_id:t.admin_id,admin_name:t.admin_name,admin_password:""}},deleteHospital:function(t){var e=this;this.checkLoading=!0,l(t).then((function(t){t&&(e.init(),e.checkLoading=!1)})).catch((function(){e.checkLoading=!1}))},uploadImgSuccess:function(t){this.form.img=t[0]},page:function(t){this.toPage=t,this.init()},toDepartment:function(t){this.$router.push({path:"/department",query:{id:t.admin_id}})}}},c=d,m=i("2877"),u=Object(m["a"])(c,a,n,!1,null,null,null);e["default"]=u.exports}}]);