(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-78c8ea6a"],{"3e56":function(e,t,a){"use strict";a.r(t);var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-row",{attrs:{type:"flex",justify:"end"}},[a("el-button",{attrs:{type:"primary",loading:e.downloadLoading,icon:"el-icon-document"},on:{click:e.exportData}},[e._v("导出")])],1),a("el-row",[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.checkLoading,expression:"checkLoading"}],staticStyle:{width:"100%"},attrs:{data:e.list,stripe:"","empty-text":e.emptyText,"row-key":"data_id"},on:{"select-all":e.chooseRow,select:e.chooseRow}},[a("el-table-column",{attrs:{type:"selection",width:"55","reserve-selection":!0}}),a("el-table-column",{attrs:{type:"expand"},scopedSlots:e._u([{key:"default",fn:function(t){return e._l(t.row.problemList,(function(t,l){return a("div",{key:l},[a("p",[e._v(e._s(t.problem))]),"1"===t.value?a("p",{staticStyle:{color:"red"}},[e._v("是")]):"0"===t.value?a("p",[e._v("否")]):a("p",[e._v(e._s(t.value))]),a("el-divider")],1)}))}}])}),a("el-table-column",{attrs:{prop:"data_id",label:"序号"}}),a("el-table-column",{attrs:{prop:"name",label:"姓名"}}),a("el-table-column",{attrs:{prop:"type",label:"状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[1==t.row.type?a("span",[e._v("正常")]):a("span",{staticStyle:{color:"red"}},[e._v("异常")])]}}])}),a("el-table-column",{attrs:{prop:"user_type",label:"类型"}}),a("el-table-column",{attrs:{prop:"id_type",label:"证件类型"}}),a("el-table-column",{attrs:{prop:"id_number","show-overflow-tooltip":"",label:"证件号码"}}),a("el-table-column",{attrs:{prop:"phone_number",label:"电话"}}),a("el-table-column",{attrs:{prop:"province_value",label:"省"}}),a("el-table-column",{attrs:{prop:"city_value",label:"市"}}),a("el-table-column",{attrs:{prop:"district_value",label:"区"}}),a("el-table-column",{attrs:{prop:"address","show-overflow-tooltip":"",label:"地址"}}),a("el-table-column",{attrs:{prop:"hospital_value","show-overflow-tooltip":"",label:"就诊医院"}}),a("el-table-column",{attrs:{prop:"department_value","show-overflow-tooltip":"",label:"就诊科室"}}),a("el-table-column",{attrs:{prop:"invalid_time",label:"失效时间"}})],1)],1),a("el-row",{staticStyle:{"margin-top":"20px"},attrs:{type:"flex",justify:"end"}},[a("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:e.total,"page-size":e.pageSize,"hide-on-single-page":""},on:{"current-change":e.page}})],1)],1)},o=[],n=(a("d3b7"),a("159b"),a("a434"),a("3ca3"),a("ddb0"),a("b775"));function i(e){var t={page:e};return Object(n["a"])({url:"/getUserDataList",method:"post",data:t})}function r(e){var t={ids:e};return Object(n["a"])({url:"/exportUserData",method:"post",data:t})}var s={data:function(){return{showProblem:!1,emptyText:"",clickTab:!1,checkLoading:!1,list:[],total:0,pageSize:0,toPage:1,chooseList:[],downloadLoading:!1}},created:function(){this.init()},methods:{init:function(){var e=this;this.list=[],this.emptyText="数据加载中……",i(this.toPage).then((function(t){0===t.data.list.length?e.emptyText="暂无数据":(e.list=t.data.list,e.total=t.data.total,e.pageSize=t.data.pageSize),e.clickTab=!0}),(function(t){e.clickTab=!0}))},exportData:function(){var e=this;if(console.log(this.chooseList),0===this.chooseList.length)this.$message({message:"请选中数据导出~",type:"warning"});else{this.downloadLoading=!0;var t=[];this.chooseList.forEach((function(e){t.splice(t.length,0,e["data_id"])})),r(t).then((function(t){if(t){var l=t.data.tHeader,o=t.data.list,n=t.data.filename;Promise.all([a.e("chunk-df9fae8c"),a.e("chunk-2125b98f")]).then(a.bind(null,"4bf8")).then((function(t){t.export_json_to_excel({header:l,data:o,filename:n}),e.downloadLoading=!1}))}}),(function(t){e.downloadLoading=!1}))}},page:function(e){this.toPage=e,this.init()},chooseRow:function(e){this.chooseList=e}}},c=s,p=a("2877"),d=Object(p["a"])(c,l,o,!1,null,null,null);t["default"]=d.exports},a434:function(e,t,a){"use strict";var l=a("23e7"),o=a("23cb"),n=a("a691"),i=a("50c4"),r=a("7b0b"),s=a("65f0"),c=a("8418"),p=a("1dde"),d=a("ae40"),u=p("splice"),h=d("splice",{ACCESSORS:!0,0:0,1:2}),b=Math.max,f=Math.min,m=9007199254740991,g="Maximum allowed length exceeded";l({target:"Array",proto:!0,forced:!u||!h},{splice:function(e,t){var a,l,p,d,u,h,v=r(this),w=i(v.length),y=o(e,w),_=arguments.length;if(0===_?a=l=0:1===_?(a=0,l=w-y):(a=_-2,l=f(b(n(t),0),w-y)),w+a-l>m)throw TypeError(g);for(p=s(v,l),d=0;d<l;d++)u=y+d,u in v&&c(p,d,v[u]);if(p.length=l,a<l){for(d=y;d<w-l;d++)u=d+l,h=d+a,u in v?v[h]=v[u]:delete v[h];for(d=w;d>w-l+a;d--)delete v[d-1]}else if(a>l)for(d=w-l;d>y;d--)u=d+l-1,h=d+a-1,u in v?v[h]=v[u]:delete v[h];for(d=0;d<a;d++)v[d+y]=arguments[d+2];return v.length=w-l+a,p}})}}]);