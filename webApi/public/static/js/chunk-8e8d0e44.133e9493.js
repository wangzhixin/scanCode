(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-8e8d0e44"],{"6bec":function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"sortable"}},[i("div",{staticClass:"img_upload_box",style:{width:t.uploadBoxWidth}},[i("el-upload",{ref:"uploadImg",attrs:{action:t.action,"list-type":"picture-card","file-list":t.imgList,"auto-upload":!0,headers:t.headers,limit:t.limit,"on-preview":t.handlePictureCardPreview,"on-success":function(e,i,s){return t.uploadSuccess(e,i,s)},accept:t.accept,"on-remove":function(e,i){return t.removerImg(e,i)},"on-exceed":t.exceed,multiple:t.multiple}},[i("i",{staticClass:"el-icon-plus",attrs:{slot:"default"},slot:"default"})]),i("el-dialog",{attrs:{visible:t.dialogVisible},on:{"update:visible":function(e){t.dialogVisible=e}}},[i("img",{attrs:{width:"100%",src:t.dialogImageUrl,alt:""}})])],1)])},l=[],o=(i("a9e3"),i("d3b7"),i("159b"),i("a434"),i("53ca"),i("ac1f"),i("00b4"),i("5319"),i("4d63"),i("2c3e"),i("25f0"),i("4d90"),i("1276"),i("5f87"));i("4360");function n(t){return"http://scancode.pureplusclinic.com/index.php/api/"+t+".html"}function r(){var t={};return t[Object(o["b"])()]=Object(o["a"])(),t}var a={name:"UploadImg",props:{count:{type:Number,default:1},success:{type:Function,default:null},list:{type:Array,default:null},customize:{type:Number,default:null},replace:{type:Number,default:0}},data:function(){return{action:n("uploadFile"),accept:"image/png,image/jpg,image/jpeg",limit:this.count,dialogImageUrl:"",dialogVisible:!1,headers:r(),imgList:[],initDropCard:!1,uploadBoxWidth:"100%",multiple:!1}},watch:{list:{handler:function(){0===this.imgList.length&&this.initImgList()},deep:!0,immediate:!0},replace:{handler:function(t){t>0&&this.initImgList()},deep:!0}},mounted:function(){this.count},methods:{initImgList:function(){var t=this;this.imgList=[],this.uploadBoxWidth=170*this.count-20+"px",this.list.length>0&&this.list.forEach((function(e){t.imgList.splice(t.imgList.length,0,{url:e})}))},handlePictureCardPreview:function(t){this.dialogImageUrl=t.url,this.dialogVisible=!0},uploadSuccess:function(t,e,i){if(1===t.code)this.imgList.splice(this.imgList.length,0,{url:t.data.url}),this.syncList();else{var s="服务器错误请稍后重试~";this.$message.error(s)}},removerImg:function(t,e){var i=t.url;i.response&&(i=i.response.data.url);var s=[];this.imgList.forEach((function(t,e){t.url!==i&&s.splice(s.length,0,t)})),this.imgList=s,this.syncList()},syncList:function(){var t=[];this.imgList.forEach((function(e,i){t.splice(t.length,0,e.url)})),null!==this.customize?this.success(t,this.customize):this.success(t)},exceed:function(t,e){this.$message.error("最多上传"+this.count+"张图片")}}},c=a,u=(i("e6e6"),i("2877")),m=Object(u["a"])(c,s,l,!1,null,"01b4cbda",null);e["a"]=m.exports},7424:function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"app-container"},[i("div",{staticClass:"form-main"},[i("el-form",{ref:"form",staticClass:"demo-form",attrs:{model:t.form,rules:t.rules,"label-width":"150px"}},[i("el-form-item",{staticStyle:{width:"500px"},attrs:{label:"访问标题：",prop:"title"}},[i("el-input",{attrs:{placeholder:"请输入访问标题"},model:{value:t.form.title,callback:function(e){t.$set(t.form,"title",e)},expression:"form.title"}})],1),i("el-form-item",{staticStyle:{width:"500px"},attrs:{label:"访问标题(英文)：",prop:"title_en"}},[i("el-input",{attrs:{placeholder:"请输入访问标题"},model:{value:t.form.title_en,callback:function(e){t.$set(t.form,"title_en",e)},expression:"form.title_en"}})],1),i("el-form-item",{attrs:{label:"Logo：",prop:"logo"}},[i("uploadImg",{attrs:{count:1,success:t.uploadImgSuccess,list:t.form.logo?[t.form.logo]:[]}})],1),i("el-form-item",[i("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.submitForm()}}},[t._v("保存")])],1)],1)],1)])},l=[],o=i("6bec"),n=i("b775");function r(t){return Object(n["a"])({url:"/submitSetting",method:"post",data:t})}function a(){return Object(n["a"])({url:"/getSetting",method:"post"})}var c={components:{UploadImg:o["a"]},data:function(){return{form:{logo:"",title:"",title_en:""},rules:{logo:[{required:!0,message:"请上传Logo",trigger:"change"}],title:[{required:!0,message:"请输入访问标题",trigger:"change"}],title_en:[{required:!0,message:"请输入访问标题(英文)",trigger:"change"}]}}},created:function(){this.init()},methods:{init:function(){var t=this;a().then((function(e){e&&(t.form=e.data)}))},submitForm:function(){var t=this;this.$refs.form.validate((function(e){if(!e)return!1;var i=t.$loading({lock:!0,text:"提交中",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"});r(t.form).then((function(e){i.close(),t.init()})).catch((function(){i.close()}))}))},uploadImgSuccess:function(t){this.form.logo=t[0]}}},u=c,m=i("2877"),d=Object(m["a"])(u,s,l,!1,null,"429d5c13",null);e["default"]=d.exports},9019:function(t,e,i){},e6e6:function(t,e,i){"use strict";i("9019")}}]);